<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Spring | 粥</title><meta name="keywords" content="Spring笔记-黑马程序员"><meta name="author" content="苏泽"><meta name="copyright" content="苏泽"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Spring"><meta name="application-name" content="Spring"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Spring"><meta property="og:url" content="https://suzers0318.github.io/2024/05/20/Spring/index.html"><meta property="og:site_name" content="粥"><meta property="og:description" content="早期学习留下的笔记，仅供参考。"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520215847503.png"><meta property="article:author" content="苏泽"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520215847503.png"><meta name="description" content="早期学习留下的笔记，仅供参考。"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://suzers0318.github.io/2024/05/20/Spring/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: undefined,
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":null},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 苏泽","link":"链接: ","source":"来源: 粥","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '粥',
  title: 'Spring',
  postAI: '',
  pageFillDescription: 'Spring Framework, Core Container核心容器, IoC(Inversion of Control) 控制反转, Bean别名配置, Bean作用范围配置, Bean实例化—–构造方法, Bean实例化—–静态工厂, Bean实例化—–实例工厂, Bean实例化——实例化工厂plus, Bean的生命周期, DI（Dependency Injection）依赖注入, 依赖注入方式, 一·setter注入, 二·构造器注入, 三·自动装配, 四·集合注入, 加载properties文件, 容器, 注解开发, 注解开发定义bean, 纯注解开发, Bean管理, 依赖注入, 第三方Bean管理, 第三方bean管理, 第三方bean依赖注入, Spring整合Mybatis, Spring整合JUnit, AOP：面向切面编程, 六个核心概念, AOP工作流程, AOP通知类型, 五种通知类型, AOP通知获取数据, Spring事务, Spring提供的事务接口, Spring事务角色, 事务相关配置官网核心容器控制反转对象的创建控制权由程序转移到外部容器由提供这种思想就叫做控制反转达到的效果就是解耦提供了一个容器称为容器用来充当思想的外部容器负责对象的创建和初始化等一系列过程工作被创建或被管理的对象在容器中称为别名配置使用属性的名字使用范围一样作用范围配置通过文件中的标签的属性为多例为单例实例化构造方法是如何创建出来的本质就是一个对象创建使用构造方法完成无参构造方法构造其中如果无参构造方法中无法提供则无法构造对象无参构造方法如果不存在则抛出异常实例化静态工厂其中为工厂内的什么方法来构造对象在使用静态工厂的时候必须加入此属性实例化实例工厂实例化实例化工厂的生命周期配置生命周期的方法初始化销毁为什么只显示因为运行在虚拟机中因为虚拟机启动了启动初始化后程序执行完虚拟机已经退出了销毁就没有显示了因此在虚拟机退出前先把容器给关闭了实现接口关闭容器强制关闭直接强行关闭容器注册关闭在虚拟机关闭前关闭容器依赖注入在容器中建立与之间的依赖关系的整个过程称为依赖注入目标充分解耦在使用容器管理在容器内将有依赖关系的进行关系绑定最终效果使用对象时不仅可以直接从容器中获取并且获取到的已经绑定了所有的依赖关系放在标签里表示对象与另一个对象有依赖关系依赖注入方式一注入二构造器注入向一个类中传递数据的方式有哪几种普通方法方法构造方法依赖注入描述了在容器中建立与之间依赖关系的过程如果运行需要的是数字或字符串呢引用类型简单类型基本数据类型与依赖注入方式注入引用类型简单类型基本数据类型与构造器注入引用类型简单类型基本数据类型与一注入引用类型配置中使用标签属性注入引用类型对象其中的为下面的名字前面的为要引入的类型简单类型首先在定义引用类型属性并提供可访问的方法为接口为实现类中的为类型二构造器注入与类似方法类似只是在构造方法中使用标签名替换为形参名字的名字形参名字输入的值在这里出现耦合度问题因为是为了解耦因此在标签和中的属性中如果名字一换标签名也要换那么出现了下面的几种方案把属性名删掉改为这样分类顺序以及名字不用只需要匹配类型即可但是如果出现多个相同类型就不可以与形参名不耦合属性标为形参位置不用名字三自动装配标签中属性中有四种构造器以及不使用四集合注入数组类似这样的简单记住就好简单类型的一般不用引用类型加载文件开启空间改五处还有下面的俩处改成使用命名空间加载文件在标签中使用标签属性注入使用属性占位符读取文件的名字容器二种创建容器的方式类路径加载配置文件文件绝对路径加载配置文件可以同时加载多个文件只需用逗号隔开三种创建的方式使用名称获取使用名称获取并指定类型使用类型获取这里的在文件中的只能一个相同类型的是所有容器类的顶层接口注解开发注解开发定义开始提供各种各样的注解开始逐步完善第一步使用定义别名也可以不加为数据层的可以用这里为业务层可以用第二步在配置文件中加载扫描注意包加载到组织名下就可以不用到提供注解的三个衍生注解用于表现层定义用于业务层定义用于数据层定义纯注解开发开始纯注解开发使用了类替代配置文件开启了快速开发赛道类替代核心配置文件用替代核心配置文件替代文件里的包扫描如果要添加多个包文件使用数组来加载比如这样加载文件在配置类上加注解不支持通配符多文件用数组格式注意使用纯注解开发的创建容器类名改了加载配置文件初始化容器加载配置类初始化容器其中为配置类名要注意更改容器的创建类管理的作用范围实例化的对象为单例实例化的对象为多例的生命周期使用来定义生命周期构造方法执行后销毁前执行依赖注入自动装配使用注解开启自动装配模式模型如果要使用自动装配按名字需要再加一个注解名字而且前面必须加引用类型名字使用实现简单类型注入注意自动装配基于反射设计创建对象并暴力反射对应属性为私有属性初始化数据因此无需提供方法注意自动装配建议使用无参构造方法创建对象默认如果不提供对应构造方法请提供唯一的构造方法第三方管理第三方管理第三方依赖注入第三方管理在配置文件中的注解下加入如果要加多个则用数组方式一简单类型二引用类型其中扫描要写对应的包整合整合使用整合专用的类加载器在中使用俩个注解即可完成的测试面向切面编程六个核心概念面向切面编程一种编程范式指导开发者如何组织程序结构面向对象编程作用在不惊动原始设计的基础上为其进行功能增强代理的核心本质是采用代理模式实现的连接点在中理解为任意方法的执行切入点匹配连接点的式子也是具有共性功能的方法描述通知若干个方法的共性功能在切入点处执行最终体现为一个方法切面描述通知与切入点的对应关系目标对象被代理的原始对象成为目标对象连接点程序执行过程中的任意位置粒度为执行方法抛出异常设置变量等在中理解为方法的执行切入点匹配连接点的式子在中一个切入点可以只描述一个具体方法也可以匹配多个方法一个具体方法包下的接口中的无形参无返回值的方法匹配多个方法所有的方法所有的开头的方法所有以结尾的接口中的任意方法所有带有一个参数的方法通知在切入点执行的操作也就是共性功能在中功能最终以方法的形式呈现通知类定义通知的类切面描述通知与切入点的对应关系首先在配置类加入其次创建一个的包创建一个通知类在通知类中加注解其中一个是注解一个是注解工作流程容器启动读取所有切面配置中的切入点初始化判定对应的类中的方法是否匹配到任意切入点匹配失败创建对象匹配成功创建原始对象目标对象的代理对象获取执行方法获取调用方法并执行完成操作获取是代理对象时根据代理对象的运行模式运行原始方法与增强内容完成操作本质代理模式切入点表达式通知类型五种通知类型通知描述了抽取的共性功能根据共性功能抽取的位置不同最终运行代码时要将其加入到合理的位置通知共分为种类型前置通知后置通知环绕通知环绕通知必须依赖形参才能实现对原始方法的调用如有返回值必须为类而且要抛出异常返回后通知抛出异常后通知通知获取数据获取切入点方法的参数适用于前置后置返回后抛出异常后通知设置为方法的第一个形参适用于环绕通知获取切入点方法的返回值返回后通知环绕通知获取切入点方法运行异常信息抛出异常后通知环绕通知事务事务的作用在数据层保障一系列的数据库操作同成功同失败事务作用在数据层或业务层保障一系列的数据库操作同成功同失败提供的事务接口事务角色事务管理员发起事务方在中通常指代业务层开启事务的方法事务协调员加入事务方在中通常指代数据层方法也可以是业务方法事务相关配置事务在遇到非运行时异常不会回滚事务传播行为事务协调员对事务管理员所携带事务的处理态度意识就是事务协调员是加入事务管理员呢还是不加入呢由事务协调员来决定单独创建一个事务数据访问数据集成开发单元测试与集成测试',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-20 22:03:35',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">粥</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520153050502.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520153050502.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520153031049.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520153031049.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Spring%E7%AC%94%E8%AE%B0-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/" style="font-size: 1.05rem;">Spring笔记-黑马程序员<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Spring%E7%AC%94%E8%AE%B0-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Spring笔记-黑马程序员</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Spring</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-05-20T09:53:59.000Z" title="发表于 2024-05-20 17:53:59">2024-05-20</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-05-20T14:03:35.760Z" title="更新于 2024-05-20 22:03:35">2024-05-20</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为剑河"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>剑河</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520215847503.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://suzers0318.github.io/2024/05/20/Spring/"><header><a href="/tags/Spring%E7%AC%94%E8%AE%B0-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/" tabindex="-1" itemprop="url">Spring笔记-黑马程序员</a><h1 id="CrawlerTitle" itemprop="name headline">Spring</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">苏泽</span><time itemprop="dateCreated datePublished" datetime="2024-05-20T09:53:59.000Z" title="发表于 2024-05-20 17:53:59">2024-05-20</time><time itemprop="dateCreated datePublished" datetime="2024-05-20T14:03:35.760Z" title="更新于 2024-05-20 22:03:35">2024-05-20</time></header><h1 id="Spring-Framework"><a href="#Spring-Framework" class="headerlink" title="Spring Framework"></a>Spring Framework</h1><p><a href="spring.io">官网:</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231116170747865.png"></p>
<h2 id="Core-Container-核心容器"><a href="#Core-Container-核心容器" class="headerlink" title="Core Container:核心容器"></a>Core Container:核心容器</h2><h3 id="IoC-Inversion-of-Control-控制反转"><a href="#IoC-Inversion-of-Control-控制反转" class="headerlink" title="IoC(Inversion of Control) 控制反转"></a>IoC(Inversion of Control) 控制反转</h3><p>对象的创建控制权<strong>由程序转移到外部</strong>（IoC容器（由Spring提供）），这种思想就叫做控制反转。达到的效果就是解耦</p>
<p>Spring提供了一个容器，称为IoC容器，用来充当IoC思想的外部</p>
<p>IoC容器负责对象的创建和初始化等一系列过程工作，被创建或被管理的对象在IoC容器中称为Bean</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231116181147661.png"></p>
<h6 id="Bean别名配置"><a href="#Bean别名配置" class="headerlink" title="Bean别名配置"></a>Bean别名配置</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>  = <span class="string">&quot;bookDao&quot;</span> <span class="attr">name</span>=<span class="string">&quot;bookDao2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.spring_demo.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用id属性的名字 使用范围一样。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231116183501614.png"></p>
<h6 id="Bean作用范围配置"><a href="#Bean作用范围配置" class="headerlink" title="Bean作用范围配置"></a>Bean作用范围配置</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过xml文件中的bean标签的 scope属性:1.prototype为多例  2.singleton为单例</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231116184518508.png"></p>
<h6 id="Bean实例化—–构造方法"><a href="#Bean实例化—–构造方法" class="headerlink" title="Bean实例化—–构造方法"></a>Bean实例化—–构造方法</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117133604617.png" alt="image-20231117133604617"></p>
<p>bean是如何创建出来的：bean本质就是一个对象，创建bean使用构造方法完成</p>
<p>①：无参构造方法构造bean：其中如果无参构造方法中无法提供则Spring无法构造bean对象。无参构造方法如果不存在，则抛出异常BeanCreationException </p>
<h6 id="Bean实例化—–静态工厂"><a href="#Bean实例化—–静态工厂" class="headerlink" title="Bean实例化—–静态工厂"></a>Bean实例化—–静态工厂</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117133555483.png" alt="image-20231117133555483"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117131732777.png" alt="image-20231117131732777"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其中 factory-method=“”为工厂内的什么方法来构造对象，在使用静态工厂的时候必须加入此属性。</span><br></pre></td></tr></table></figure>

<h6 id="Bean实例化—–实例工厂"><a href="#Bean实例化—–实例工厂" class="headerlink" title="Bean实例化—–实例工厂"></a>Bean实例化—–实例工厂</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117133541447.png" alt="image-20231117133541447"></p>
<h6 id="Bean实例化——实例化工厂plus"><a href="#Bean实例化——实例化工厂plus" class="headerlink" title="Bean实例化——实例化工厂plus"></a>Bean实例化——实例化工厂plus</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117134208186.png" alt="image-20231117134208186"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117134308037.png" alt="image-20231117134308037"></p>
<h6 id="Bean的生命周期"><a href="#Bean的生命周期" class="headerlink" title="Bean的生命周期"></a>Bean的生命周期</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117231500528.png" alt="image-20231117231500528"></p>
<p>配置bean生命周期的方法：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231117224715523.png" alt="image-20231117224715523"></p>
<p>初始化：init</p>
<p>销毁：destroy</p>
<p>为什么只显示init </p>
<p>因为运行在java虚拟机中，因为虚拟机启动了ioc启动，bean初始化，后，程序执行完，java虚拟机已经退出了，销毁就没有显示了。</p>
<p>因此在虚拟机退出前，先把ioc容器给关闭了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">实现接口：</span><br><span class="line">ConfigurableApplicationContext</span><br><span class="line">#关闭容器</span><br><span class="line">close（）；强制关闭，直接强行关闭。</span><br><span class="line">registerShutdownHook（）；容器注册关闭，在虚拟机关闭前关闭容器</span><br></pre></td></tr></table></figure>



<h3 id="DI（Dependency-Injection）依赖注入"><a href="#DI（Dependency-Injection）依赖注入" class="headerlink" title="DI（Dependency Injection）依赖注入"></a>DI（Dependency Injection）依赖注入</h3><p>在容器中建立bean与bean之间的依赖关系的整个过程，称为依赖注入</p>
<p>IOC&#x2F;DI 目标：充分解耦</p>
<p>在使用IoC容器管理bean（IoC）</p>
<p>在Ioc容器内将有依赖关系的bean进行关系绑定（DI）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最终效果：使用对象时不仅可以直接从Ioc容器中获取，并且获取到的bean已经绑定了所有的依赖关系</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2024/05/20/Spring/软件开发-4day\Spring\image-20231116181513849.png"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">放在bean标签里表示bean对象与另一个对象&quot;bookDao&quot;有依赖关系</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookDao2&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="依赖注入方式"><a href="#依赖注入方式" class="headerlink" title="依赖注入方式"></a>依赖注入方式</h6><h6 id="一·setter注入"><a href="#一·setter注入" class="headerlink" title="一·setter注入"></a>一·setter注入</h6><h6 id="二·构造器注入"><a href="#二·构造器注入" class="headerlink" title="二·构造器注入"></a>二·构造器注入</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">向一个类中传递数据的方式有哪几种？</span><br><span class="line">1.普通方法（set方法）</span><br><span class="line">2.构造方法</span><br><span class="line">依赖注入描述了在容器中建立bean与bean之间依赖关系的过程，如果bean运行需要的是数字或字符串呢？</span><br><span class="line">1.引用类型</span><br><span class="line">2.简单类型（基本数据类型与String）</span><br><span class="line"></span><br><span class="line">依赖注入方式</span><br><span class="line">setter注入</span><br><span class="line">1.引用类型</span><br><span class="line">2.简单类型（基本数据类型与String）</span><br><span class="line">构造器注入</span><br><span class="line">1.引用类型</span><br><span class="line">2.简单类型（基本数据类型与String）</span><br><span class="line"></span><br><span class="line">一：setter注入</span><br><span class="line">1.引用类型</span><br><span class="line">配置中使用&lt;property&gt;标签 ref属性注入引用类型对象</span><br><span class="line">&lt;bean id=&quot;demo&quot; class=&quot;com.suze.impl&quot;&gt;</span><br><span class="line">&lt;propert name=&quot;demo01&quot;  ref=&quot;demo01&quot;/&gt;//其中ref的demo01为下面bean的名字，前面name的demo01为要引入bean的类型。</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;bean id=&quot;demo01&quot; class=&quot;com.suze.dao&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.简单类型</span><br><span class="line">首先在bean定义引用类型属性并提供可访问的set方法</span><br><span class="line">public class impl implement dao&#123;          //dao为接口 impl为实现类</span><br><span class="line">	private int number;</span><br><span class="line">	public void setNumber(int number)&#123;</span><br><span class="line">		this.number=number;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line">&lt;bean id=&quot;dao&quot; class=&quot;com.suze.impl&quot;&gt;</span><br><span class="line">&lt;propert name=&quot;number&quot; value=&quot;10&quot;/&gt;     //name中的“number”为类型</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">二：构造器注入</span><br><span class="line">与setter类似方法类似。</span><br><span class="line">只是在构造方法中使用</span><br><span class="line">标签名替换为</span><br><span class="line">&lt;constructor-arg name=&quot;形参名字&quot; ref=&quot;bean的名字&quot;&gt;</span><br><span class="line">&lt;constructor-arg name=&quot;形参名字&quot; value=&quot;输入的值&quot;&gt;</span><br><span class="line"></span><br><span class="line">在这里出现耦合度问题：因为spring是为了解耦，因此在标签&lt;propert&gt;和&lt;constructor-arg&gt;中的name属性中</span><br><span class="line">如果名字一换，标签名也要换。那么出现了下面的几种方案：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1.type把name属性名删掉。改为type=&quot;int&quot;,type=&quot;java.lang.String&quot;这样分类，顺序，以及名字不用。只需要匹配类型即可。但是如果出现多个相同类型就不可以。与形参名不耦合</span><br><span class="line"></span><br><span class="line">2.index属性index=&quot;0&quot;,index=&quot;1&quot;,标为形参位置，不用name名字。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="三·自动装配"><a href="#三·自动装配" class="headerlink" title="三·自动装配"></a>三·自动装配</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean&gt;标签中 autowire属性中有四种 byType，byName，构造器，以及不使用。</span><br></pre></td></tr></table></figure>

<h6 id="四·集合注入"><a href="#四·集合注入" class="headerlink" title="四·集合注入"></a>四·集合注入</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">数组</span><br><span class="line">List</span><br><span class="line">Set</span><br><span class="line">Map</span><br><span class="line">Properties</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">类似这样的 简单记住就好简单类型的 一般不用引用类型。</span><br><span class="line">&lt;bean&gt;</span><br><span class="line">&lt;propert&gt;</span><br><span class="line">&lt;array&gt;100&lt;/array&gt;</span><br><span class="line">&lt;/propert&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h6 id="加载properties文件"><a href="#加载properties文件" class="headerlink" title="加载properties文件"></a>加载properties文件</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#开启context空间</span><br><span class="line">xmls:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">改五处，还有下面的俩处，beans改成context。</span><br><span class="line"></span><br><span class="line">#使用context命名空间，加载properties文件</span><br><span class="line">&lt;context:property-placeholder location=&quot;xxx.properties&quot;/&gt;</span><br><span class="line">在bean标签中使用&lt;propert&gt;标签 name value属性，setter注入。</span><br><span class="line"></span><br><span class="line">#使用$&#123;&#125;属性占位符读取properties文件的名字。</span><br></pre></td></tr></table></figure>

<h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.二种创建容器的方式</span><br><span class="line">//1	类路径加载配置文件</span><br><span class="line">ApplicationContext ctx  = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line"></span><br><span class="line">//2	文件绝对路径加载配置文件</span><br><span class="line">ApplicationContext ctx  = new FileSystemXmlApplicationContext(&quot;D:\\applicationContext.xml&quot;);</span><br><span class="line">可以同时加载多个xml文件，只需用逗号隔开。</span><br><span class="line"></span><br><span class="line">2.三种创建bean的方式</span><br><span class="line">//1.使用bean名称获取</span><br><span class="line">BookDao bookDao = (BookDao) ctx.getBean(&quot;bookDao&quot;);</span><br><span class="line"></span><br><span class="line">//2.使用bean名称获取并指定类型</span><br><span class="line">BookDao bookDao = ctx.getBean(&quot;bookDao&quot;,BookDao.class);</span><br><span class="line"></span><br><span class="line">///3.使用bean类型获取（这里的在xml文件中的bean只能一个相同类型的bean</span><br><span class="line">BookDao bookDao = ctx.getBean(BookDao.class); </span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231118104645865.png" alt="image-20231118104645865"></p>
<p>:o:BeanFactory是所有容器类的顶层接口。</p>
<h2 id="注解开发"><a href="#注解开发" class="headerlink" title="注解开发"></a>注解开发</h2><h6 id="注解开发定义bean"><a href="#注解开发定义bean" class="headerlink" title="注解开发定义bean"></a>注解开发定义bean</h6><p>spring2.0开始提供各种各样的注解，spring2.5开始逐步完善。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">第一步：使用@Component定义bean</span><br><span class="line">@Component(&quot;bookDao&quot;)//别名也可以不加</span><br><span class="line">//为数据层bean的可以用</span><br><span class="line">@Repository</span><br><span class="line">public class BookDaoImpl implements BookDao&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Component这里service为业务层bean 可以用@Service</span><br><span class="line">public class BookServiceimpl implements BookService&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">第二步：在xml配置文件中加载Component-scan 扫描。</span><br><span class="line">&lt;context:componetn-scan base-package=&quot;com.suze&quot;&gt;//注意包加载到组织名下就可以，不用到com。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Spring提供@Component注解的三个衍生注解</span><br><span class="line"></span><br><span class="line">@Controller:用于表现层bean定义</span><br><span class="line"></span><br><span class="line">@Service:用于业务层bean定义</span><br><span class="line"></span><br><span class="line">@Repository:用于数据层bean定义</span><br></pre></td></tr></table></figure>

<h6 id="纯注解开发"><a href="#纯注解开发" class="headerlink" title="纯注解开发"></a>纯注解开发</h6><p>spring3.0开始纯注解开发 使用了Java类替代配置文件，开启了Spring快速开发赛道</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#Java类替代Spring核心配置文件，</span><br><span class="line">用  @Configuration替代Spring核心配置文件</span><br><span class="line">   @ComponentScan(&quot;com.suze&quot;)替代xml文件里的com包扫描bean。</span><br><span class="line">   如果要添加多个包文件使用数组&#123;&#125;来加载。</span><br><span class="line">   比如</span><br><span class="line">   @CompponentScan(&#123;&quot;com.suze.service&quot;,&quot;com.suze.dao&quot;&#125;)这样</span><br><span class="line"></span><br><span class="line">#加载properties文件在java配置类上加注解@PropertySource(&quot;jdbc.properties&quot;) 不支持通配符，多文件用数组格式</span><br><span class="line"></span><br><span class="line">#注意使用纯注解开发的创建容器类名改了</span><br><span class="line">//加载配置文件初始化容器</span><br><span class="line">ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line"></span><br><span class="line">//加载配置类初始化容器 其中Spring为Java配置类名，要注意更改容器的创建类。</span><br><span class="line">ApplicationContext ctx = new AnnotationConfigApplicationContext(Spring.class);</span><br></pre></td></tr></table></figure>

<h6 id="Bean管理"><a href="#Bean管理" class="headerlink" title="Bean管理"></a>Bean管理</h6><p>bean的作用范围</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Scope(&quot;singleton&quot;)//实例化的对象为单例</span><br><span class="line">public class BookDaoImpl implements BookDao&#123;</span><br><span class="line">&#125;</span><br><span class="line">@Scope(&quot;prototype&quot;)实例化的对象为多例</span><br><span class="line">public class BookDaoImpl implements BookDao&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>bean的生命周期</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">使用@PostConstruct @PreDestory来定义生命周期</span><br><span class="line"></span><br><span class="line">@PostConstruct//构造方法执行后</span><br><span class="line">public void init()&#123;</span><br><span class="line">	System.out.println(&quot;init...&quot;);</span><br><span class="line">&#125;</span><br><span class="line">@PreDestory//销毁前执行</span><br><span class="line">public void destory()&#123;</span><br><span class="line">	System.out.println(&quot;destory...&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h6><p>自动装配</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#使用@Autowired注解开启自动装配模式（模型）</span><br><span class="line"></span><br><span class="line">@Service</span><br><span class="line">public class BookServiceImpl implements BookService&#123;</span><br><span class="line"> @Autowired</span><br><span class="line"> private BookDao bookDao;</span><br><span class="line"> </span><br><span class="line"> public void save()&#123;</span><br><span class="line">     System.out.println(&quot;book service save ... &quot;);</span><br><span class="line">     bookDao.save();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">如果要使用自动装配按名字，需要再加一个注解</span><br><span class="line">@Qualifier(&quot;bean名字&quot;)；而且前面必须加@Autowired。</span><br><span class="line"></span><br><span class="line">@Autowired//引用类型</span><br><span class="line">@Quallifier(&quot;bean名字&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用@Value实现简单类型注入</span><br><span class="line">注意：自动装配基于反射设计创建对象并暴力反射对应属性为私有属性初始化数据，因此无需提供setter方法。</span><br><span class="line">注意：自动装配建议使用无参构造方法创建对象（默认），如果不提供对应构造方法，请提供唯一的构造方法。</span><br></pre></td></tr></table></figure>

<h2 id="第三方Bean管理"><a href="#第三方Bean管理" class="headerlink" title="第三方Bean管理"></a>第三方Bean管理</h2><h6 id="第三方bean管理"><a href="#第三方bean管理" class="headerlink" title="第三方bean管理"></a>第三方bean管理</h6><h6 id="第三方bean依赖注入"><a href="#第三方bean依赖注入" class="headerlink" title="第三方bean依赖注入"></a>第三方bean依赖注入</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Bean//第三方bean管理</span><br><span class="line"></span><br><span class="line">在java配置文件中</span><br><span class="line">@Configuration的注解下加入</span><br><span class="line">@Import(jdbc.class)如果要加多个则用数组方式&#123;&#125;；</span><br><span class="line"></span><br><span class="line">一·简单类型</span><br><span class="line">@Value(&quot;jdbc:mysql://localhost:3306/db&quot;)</span><br><span class="line">private string url；</span><br><span class="line"></span><br><span class="line">二·引用类型</span><br><span class="line">@Bean</span><br><span class="line">public DataSource dateSource(BookDao bookDao)&#123;//其中扫描bean要写对应的包 com.suze.dao</span><br><span class="line">	System.out.println(bookdao);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231118143020848.png" alt="image-20231118143020848"></p>
<h2 id="Spring整合Mybatis"><a href="#Spring整合Mybatis" class="headerlink" title="Spring整合Mybatis"></a>Spring整合Mybatis</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>MybatisConfigclass</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> &#123;</span><br><span class="line"> 	<span class="meta">@Bean</span></span><br><span class="line"> 	<span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line"> 	 		<span class="type">SqlSessionFactoryBean</span> <span class="variable">ssfb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line"> 	 		 ssfb.setTypeAliasesPackage(<span class="string">&quot;com.itheima.domain&quot;</span>);</span><br><span class="line"> 	 		 ssfb.setDataSource(dataSource);</span><br><span class="line"> 	 		 <span class="keyword">return</span> ssfb;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="meta">@Bean</span></span><br><span class="line"> 	<span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line"> 			<span class="type">MapperScannerConfigurere</span> <span class="variable">msc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line"> 			msc.setBasePackage(<span class="string">&quot;com.itheima.dao&quot;</span>);</span><br><span class="line"> 			<span class="keyword">return</span> msc;</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231121182820830.png" alt="image-20231121182820830"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231121182851055.png" alt="image-20231121182851055"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231121182901593.png" alt="image-20231121182901593"></p>
<h2 id="Spring整合JUnit"><a href="#Spring整合JUnit" class="headerlink" title="Spring整合JUnit"></a>Spring整合JUnit</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">使用Spring整合JUnit专用的类加载器</span><br><span class="line">@Runwith(SpringJunit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration(class = SpringConfiguration.class)</span><br><span class="line"></span><br><span class="line">在test中使用俩个注解即可完成Junit的测试。</span><br><span class="line"></span><br><span class="line">@Runwith(SpringJunit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration(class  = SpringConfiguration.class)</span><br><span class="line">public class BookServiceTest&#123;</span><br><span class="line">	@Autowired</span><br><span class="line">	private BookService bookService;</span><br><span class="line">	</span><br><span class="line">	@Test</span><br><span class="line">	public void testSave()&#123;</span><br><span class="line">	 	bookServie.sava();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="AOP：面向切面编程"><a href="#AOP：面向切面编程" class="headerlink" title="AOP：面向切面编程"></a>AOP：面向切面编程</h2><h4 id="六个核心概念"><a href="#六个核心概念" class="headerlink" title="六个核心概念"></a>六个核心概念</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">AOP(Aspect Oriented Programming)面向切面编程，一种编程范式，指导开发者如何组织程序结构</span><br><span class="line"></span><br><span class="line">​			OOP（Object Oriented Programming）面向对象编程</span><br><span class="line">            AOP作用：在不惊动原始设计的基础上为其进行功能增强</span><br><span class="line"></span><br><span class="line">1.代理（proxy）：SpringAop的核心本质是采用代理模式实现的</span><br><span class="line">2.连接点（JoinPoint）：在SpringAop中，理解为任意方法的执行</span><br><span class="line">3.切入点（Pointcut）：匹配连接点的式子，也是具有共性功能的方法描述</span><br><span class="line">4.通知（Advice）：若干个方法的共性功能，在切入点处执行，最终体现为一个方法</span><br><span class="line">5.切面（Aspect）：描述通知与切入点的对应关系</span><br><span class="line">6.目标对象（Target）：被代理的原始对象成为目标对象 </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.连接点（JoinPoint）：程序执行过程中的任意位置，粒度为执行方法，抛出异常，设置变量等</span><br><span class="line"> 在SpringAop中，理解为方法的执行</span><br><span class="line"> </span><br><span class="line">2.切入点（Pointcut）：匹配连接点的式子</span><br><span class="line"> 在SpringAOP中，一个切入点可以只描述一个具体方法，也可以匹配多个方法</span><br><span class="line"> 	一个具体方法：com.itheima.dao包下的BookDao接口中的无形参无返回值的sava方法</span><br><span class="line"> 	匹配多个方法：所有的sava方法，所有的get开头的方法，所有以Dao结尾的接口中的任意方法，所有带有一个参数的方法。</span><br><span class="line"> 	</span><br><span class="line">3.通知（Advice）：在切入点执行的操作，也就是共性功能</span><br><span class="line">	在SpringAOP中，功能最终以方法的形式呈现</span><br><span class="line">	</span><br><span class="line">4.通知类:定义通知的类</span><br><span class="line"></span><br><span class="line">5.切面（Aspect）：描述通知与切入点的对应关系</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先在java配置类加入@EnableAspectJAutoProxy</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;dao&quot;)</span></span><br><span class="line"><span class="meta">@EnableAspectJAUtoproxy</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span>()&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//其次创建一个aop的包 创建一个通知类</span></span><br><span class="line"><span class="comment">//在通知类中加注解其中一个是Bean注解 一个是AOP注解</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line">publice <span class="keyword">class</span> <span class="title class_">MyAdvice</span>&#123;</span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(void dao.BookDao.update())&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ok</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Before(&quot;ok()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(System.currentTimeMillis());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="AOP工作流程"><a href="#AOP工作流程" class="headerlink" title="AOP工作流程"></a>AOP工作流程</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.Spring容器启动</span><br><span class="line"></span><br><span class="line">2.读取所有切面配置中的切入点</span><br><span class="line"></span><br><span class="line">3.初始化bean，判定bean对应的类中的方法是否匹配到任意切入点</span><br><span class="line"></span><br><span class="line">​       匹配失败，创建对象</span><br><span class="line"></span><br><span class="line">​		匹配成功，创建原始对象（目标对象）的代理对象</span><br><span class="line"></span><br><span class="line">4.获取bean执行方法</span><br><span class="line"></span><br><span class="line">​      获取bean，调用方法并执行，完成操作</span><br><span class="line"></span><br><span class="line">​     获取bean是代理对象时，根据代理对象的运行模式运行原始方法与增强内容，完成操作。</span><br><span class="line"></span><br><span class="line">SpringAOP本质：代理模式</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#AOP切入点表达式</span><br><span class="line">@Pointcut(execution(&quot;* *.*..()&quot;))</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231118194128785.png" alt="image-20231118194128785"></p>
<h4 id="AOP通知类型"><a href="#AOP通知类型" class="headerlink" title="AOP通知类型"></a>AOP通知类型</h4><h4 id="五种通知类型"><a href="#五种通知类型" class="headerlink" title="五种通知类型"></a>五种通知类型</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#AOP通知描述了抽取的共性功能，根据共性功能抽取的位置不同，最终运行代码时要将其加入到合理的位置</span><br><span class="line">#AOP通知共分为<span class="number">5</span>种类型</span><br><span class="line"><span class="number">1.</span>前置通知</span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="number">2.</span>后置通知</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="number">3.</span>环绕通知</span><br><span class="line"><span class="comment">//环绕通知必须依赖形参 ProceedingJoinPoint才能实现对原始方法的调用 如有返回值必须为                   Object类，而且要抛出异常。</span></span><br><span class="line"><span class="meta">@Around(&quot;ok()&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">around</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable&#123;</span><br><span class="line"> 	System.out.printlin(<span class="string">&quot;around before advice ...&quot;</span>);</span><br><span class="line"> 	<span class="type">Object</span> <span class="variable">jt</span> <span class="operator">=</span> pjp.proceed();</span><br><span class="line"> 	System.out.printlin(<span class="string">&quot;around after advice ...&quot;</span>);</span><br><span class="line"> 	<span class="keyword">return</span> jt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">4.</span>返回后通知</span><br><span class="line"><span class="meta">@AfterReturning</span></span><br><span class="line"><span class="number">5.</span>抛出异常后通知</span><br><span class="line"><span class="meta">@AfterThrowing</span></span><br></pre></td></tr></table></figure>

<h4 id="AOP通知获取数据"><a href="#AOP通知获取数据" class="headerlink" title="AOP通知获取数据"></a>AOP通知获取数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">获取切入点方法的参数</span><br><span class="line">	JoinPoint：适用于前置，后置，返回后，抛出异常后通知，设置为方法的第一个形参</span><br><span class="line">	proceedJoinPoint：适用于环绕通知</span><br><span class="line">	</span><br><span class="line">获取切入点方法的返回值</span><br><span class="line">	返回后通知</span><br><span class="line">	环绕通知</span><br><span class="line">	</span><br><span class="line">获取切入点方法运行异常信息</span><br><span class="line">	抛出异常后通知</span><br><span class="line">	环绕通知</span><br></pre></td></tr></table></figure>

<h2 id="Spring事务"><a href="#Spring事务" class="headerlink" title="Spring事务"></a>Spring事务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">事务的作用：在数据层保障一系列的数据库操作同成功同失败</span><br><span class="line">Spring事务作用：在数据层或业务层保障一系列的数据库操作同成功同失败</span><br></pre></td></tr></table></figure>

<h3 id="Spring提供的事务接口"><a href="#Spring提供的事务接口" class="headerlink" title="Spring提供的事务接口"></a>Spring提供的事务接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PlatformTransactionManager</span>&#123;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">commit</span><span class="params">(TransactionStatus status)</span><span class="keyword">throws</span> TransactionException;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">rollback</span><span class="params">(TransactionStatus status)</span><span class="keyword">throws</span> TransactionException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Spring事务角色"><a href="#Spring事务角色" class="headerlink" title="Spring事务角色"></a>Spring事务角色</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">事务管理员：发起事务方，在spring中通常指代业务层开启事务的方法</span><br><span class="line"></span><br><span class="line">事务协调员：加入事务方，在spring中通常指代数据层方法，也可以是业务方法</span><br></pre></td></tr></table></figure>

<h3 id="事务相关配置"><a href="#事务相关配置" class="headerlink" title="事务相关配置"></a>事务相关配置</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231118231338708.png" alt="image-20231118231338708"></p>
<p>:o:事务在遇到非运行时异常 不会回滚。</p>
<p>事务传播行为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//事务协调员对事务管理员所携带事务的处理态度（意识就是事务协调员是加入事务管理员呢还是不加入呢？由事务协调员来决定）</span></span><br><span class="line"><span class="meta">@Transactional</span>（propagation = propagation.REQUIRES_NEW）<span class="comment">//单独创建一个事务</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20231118232558947.png" alt="image-20231118232558947"></p>
<p>Data Access：数据访问</p>
<p>Data Integration：数据集成</p>
<p>Web：Web开发</p>
<p>Test:单元测试与集成测试</p>
<p>Spring Boot</p>
<p>Spring Cloud</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">苏泽</div><div class="post-copyright__author_desc">笔记</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://suzers0318.github.io/2024/05/20/Spring/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://suzers0318.github.io/2024/05/20/Spring/')">Spring</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://suzers0318.github.io/2024/05/20/Spring/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Spring&amp;url=https://suzers0318.github.io/2024/05/20/Spring/&amp;pic=https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520215847503.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://suzers0318.github.io" target="_blank">粥</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Spring%E7%AC%94%E8%AE%B0-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Spring笔记-黑马程序员<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520215847503.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2024/05/20/imgTest/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">imgTest</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">个人笔记网站---简单化万物,自律成长久。</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring-Framework"><span class="toc-number">1.</span> <span class="toc-text">Spring Framework</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Core-Container-%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8"><span class="toc-number">1.1.</span> <span class="toc-text">Core Container:核心容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IoC-Inversion-of-Control-%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC"><span class="toc-number">1.1.1.</span> <span class="toc-text">IoC(Inversion of Control) 控制反转</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E5%88%AB%E5%90%8D%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.0.0.1.</span> <span class="toc-text">Bean别名配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.0.0.2.</span> <span class="toc-text">Bean作用范围配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E5%AE%9E%E4%BE%8B%E5%8C%96%E2%80%94%E2%80%93%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.1.0.0.3.</span> <span class="toc-text">Bean实例化—–构造方法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E5%AE%9E%E4%BE%8B%E5%8C%96%E2%80%94%E2%80%93%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82"><span class="toc-number">1.1.1.0.0.4.</span> <span class="toc-text">Bean实例化—–静态工厂</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E5%AE%9E%E4%BE%8B%E5%8C%96%E2%80%94%E2%80%93%E5%AE%9E%E4%BE%8B%E5%B7%A5%E5%8E%82"><span class="toc-number">1.1.1.0.0.5.</span> <span class="toc-text">Bean实例化—–实例工厂</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E5%AE%9E%E4%BE%8B%E5%8C%96%E2%80%94%E2%80%94%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%B7%A5%E5%8E%82plus"><span class="toc-number">1.1.1.0.0.6.</span> <span class="toc-text">Bean实例化——实例化工厂plus</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.1.1.0.0.7.</span> <span class="toc-text">Bean的生命周期</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DI%EF%BC%88Dependency-Injection%EF%BC%89%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.2.</span> <span class="toc-text">DI（Dependency Injection）依赖注入</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.2.0.0.1.</span> <span class="toc-text">依赖注入方式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%C2%B7setter%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.2.0.0.2.</span> <span class="toc-text">一·setter注入</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%8C%C2%B7%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.2.0.0.3.</span> <span class="toc-text">二·构造器注入</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%89%C2%B7%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-number">1.1.2.0.0.4.</span> <span class="toc-text">三·自动装配</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%9B%C2%B7%E9%9B%86%E5%90%88%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.2.0.0.5.</span> <span class="toc-text">四·集合注入</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BDproperties%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.2.0.0.6.</span> <span class="toc-text">加载properties文件</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"><span class="toc-number">1.3.</span> <span class="toc-text">注解开发</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E5%AE%9A%E4%B9%89bean"><span class="toc-number">1.3.0.0.0.1.</span> <span class="toc-text">注解开发定义bean</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BA%AF%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"><span class="toc-number">1.3.0.0.0.2.</span> <span class="toc-text">纯注解开发</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Bean%E7%AE%A1%E7%90%86"><span class="toc-number">1.3.0.0.0.3.</span> <span class="toc-text">Bean管理</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.3.0.0.0.4.</span> <span class="toc-text">依赖注入</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9Bean%E7%AE%A1%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text">第三方Bean管理</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9bean%E7%AE%A1%E7%90%86"><span class="toc-number">1.4.0.0.0.1.</span> <span class="toc-text">第三方bean管理</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9bean%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.4.0.0.0.2.</span> <span class="toc-text">第三方bean依赖注入</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E6%95%B4%E5%90%88Mybatis"><span class="toc-number">1.5.</span> <span class="toc-text">Spring整合Mybatis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E6%95%B4%E5%90%88JUnit"><span class="toc-number">1.6.</span> <span class="toc-text">Spring整合JUnit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AOP%EF%BC%9A%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B"><span class="toc-number">1.7.</span> <span class="toc-text">AOP：面向切面编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AD%E4%B8%AA%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.7.0.1.</span> <span class="toc-text">六个核心概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AOP%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.7.0.2.</span> <span class="toc-text">AOP工作流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AOP%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.7.0.3.</span> <span class="toc-text">AOP通知类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94%E7%A7%8D%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.7.0.4.</span> <span class="toc-text">五种通知类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AOP%E9%80%9A%E7%9F%A5%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">1.7.0.5.</span> <span class="toc-text">AOP通知获取数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.8.</span> <span class="toc-text">Spring事务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E6%8F%90%E4%BE%9B%E7%9A%84%E4%BA%8B%E5%8A%A1%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.8.1.</span> <span class="toc-text">Spring提供的事务接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E4%BA%8B%E5%8A%A1%E8%A7%92%E8%89%B2"><span class="toc-number">1.8.2.</span> <span class="toc-text">Spring事务角色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-number">1.8.3.</span> <span class="toc-text">事务相关配置</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/05/20/Spring/" title="Spring"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://web-suze.oss-cn-beijing.aliyuncs.com/image-20240520215847503.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring"/></a><div class="content"><a class="title" href="/2024/05/20/Spring/" title="Spring">Spring</a><time datetime="2024-05-20T09:53:59.000Z" title="发表于 2024-05-20 17:53:59">2024-05-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/20/imgTest/" title="imgTest"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="imgTest"/></a><div class="content"><a class="title" href="/2024/05/20/imgTest/" title="imgTest">imgTest</a><time datetime="2024-05-20T07:02:19.000Z" title="发表于 2024-05-20 15:02:19">2024-05-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/19/two/" title="two"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="two"/></a><div class="content"><a class="title" href="/2024/05/19/two/" title="two">two</a><time datetime="2024-05-19T09:53:59.000Z" title="发表于 2024-05-19 17:53:59">2024-05-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/17/First-md/" title="First.md"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="First.md"/></a><div class="content"><a class="title" href="/2024/05/17/First-md/" title="First.md">First.md</a><time datetime="2024-05-17T15:40:03.000Z" title="发表于 2024-05-17 23:40:03">2024-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/17/hello-world/" title="Hello World"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2024/05/17/hello-world/" title="Hello World">Hello World</a><time datetime="2024-05-17T13:57:37.808Z" title="发表于 2024-05-17 21:57:37">2024-05-17</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2024 By <a class="footer-bar-link" href="/" title="苏泽" target="_blank">苏泽</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" href="https://suzers0318.github.io/" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">0</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://suzers0318.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="https://suzers0318.github.io/" title="苏泽"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="苏泽"/><span class="back-menu-item-text">苏泽</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Spring%E7%AC%94%E8%AE%B0-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/" style="font-size: 0.88rem;">Spring笔记-黑马程序员<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("20/05/2024 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2024 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 苏泽 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>